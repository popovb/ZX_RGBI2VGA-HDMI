//
// Copyright (c) 2024 Boris Popov <popov@whitekefir.ru>
//

#include "Palette.hpp"

///////////////////////////////////////////////////////////////////
namespace zxrgb {

     static Palette _plt;

     const Palette& get_palette() {
	  return _plt;
     }
}
///////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////
zxrgb::Palette::Palette():
     plt {
	  0b00000000,
	  0b00100000,
	  0b00001000,
	  0b00101000,
	  0b00000010,
	  0b00100010,
	  0b00001010,
	  0b00101010,
	  0b00000000,
	  0b00110000,
	  0b00001100,
	  0b00111100,
	  0b00000011,
	  0b00110011,
	  0b00001111,
	  0b00111111,
     } {
     return;
}

zxrgb::u8 zxrgb::Palette::operator[](u8 v) const {
     if (v >= N) v = N - 1;
     return plt[v];
}
///////////////////////////////////////////////////////////////////
